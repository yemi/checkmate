// Generated by psc version 0.9.1
"use strict";
var Prelude = require("../Prelude");
var Control_Bind = require("../Control.Bind");
var Control_Coroutine_Aff = require("../Control.Coroutine.Aff");
var Control_Coroutine_Stalling = require("../Control.Coroutine.Stalling");
var Control_Monad_Aff_AVar = require("../Control.Monad.Aff.AVar");
var Control_Monad_Aff_Class = require("../Control.Monad.Aff.Class");
var Control_Monad_Eff = require("../Control.Monad.Eff");
var Control_Monad_Rec_Class = require("../Control.Monad.Rec.Class");
var Control_Monad_Free = require("../Control.Monad.Free");
var Data_Const = require("../Data.Const");
var Data_Either = require("../Data.Either");
var Data_Functor_Coproduct = require("../Data.Functor.Coproduct");
var Data_Maybe = require("../Data.Maybe");
var Unsafe_Coerce = require("../Unsafe.Coerce");
var Data_Function = require("../Data.Function");
var Control_Semigroupoid = require("../Control.Semigroupoid");
var EventSource = function (x) {
    return x;
};
var toParentEventSource = Unsafe_Coerce.unsafeCoerce;
var runEventSource = function (v) {
    return v;
};
var fromParentEventSource = Unsafe_Coerce.unsafeCoerce;
var eventSource_ = function (dictMonad) {
    return function (dictMonadAff) {
        return function (attach) {
            return function (handle) {
                return Data_Function.apply(EventSource)(Data_Function.apply(Control_Coroutine_Stalling.producerToStallingProducer(((dictMonad["__superclass_Control.Bind.Bind_1"]())["__superclass_Control.Apply.Apply_0"]())["__superclass_Data.Functor.Functor_0"]()))(Control_Coroutine_Aff["produce'"](dictMonadAff)(function (emit) {
                    return attach(Control_Bind.bindFlipped(Control_Monad_Eff.bindEff)(function ($9) {
                        return emit(Data_Either.Left.create($9));
                    })(handle));
                })));
            };
        };
    };
};
var eventSource = function (dictMonad) {
    return function (dictMonadAff) {
        return function (attach) {
            return function (handle) {
                return Data_Function.apply(EventSource)(Data_Function.apply(Control_Coroutine_Stalling.producerToStallingProducer(((dictMonad["__superclass_Control.Bind.Bind_1"]())["__superclass_Control.Apply.Apply_0"]())["__superclass_Data.Functor.Functor_0"]()))(Control_Coroutine_Aff["produce'"](dictMonadAff)(function (emit) {
                    return attach(Control_Bind.composeKleisliFlipped(Control_Monad_Eff.bindEff)(function ($10) {
                        return emit(Data_Either.Left.create($10));
                    })(handle));
                })));
            };
        };
    };
};
var catEventSource = function (dictMonadRec) {
    return function (v) {
        return Data_Function.apply(EventSource)(Data_Function.apply(Control_Coroutine_Stalling.catMaybes(dictMonadRec))(Control_Coroutine_Stalling.mapStallingProducer((((dictMonadRec["__superclass_Control.Monad.Monad_0"]())["__superclass_Control.Bind.Bind_1"]())["__superclass_Control.Apply.Apply_0"]())["__superclass_Data.Functor.Functor_0"]())(Data_Functor_Coproduct.coproduct(Data_Function["const"](Data_Maybe.Nothing.value))(Data_Maybe.Just.create))(v)));
    };
};
module.exports = {
    EventSource: EventSource, 
    catEventSource: catEventSource, 
    eventSource: eventSource, 
    eventSource_: eventSource_, 
    fromParentEventSource: fromParentEventSource, 
    runEventSource: runEventSource, 
    toParentEventSource: toParentEventSource
};
